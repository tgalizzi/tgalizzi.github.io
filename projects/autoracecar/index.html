<!DOCTYPE html>
<html lang="fr">

  <head>
    
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta http-equiv="X-UA-Compatible" content="IE=edge">

<title>

  Théo  Galizzi


  | Autonomous Race Car

</title>
<meta name="description" content="A beautiful, simple, clean, and responsive Jekyll theme for academics">

<!-- Open Graph -->


<!-- Bootstrap & MDB -->
<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet" integrity="sha512-MoRNloxbStBcD8z3M/2BmnT+rg4IsMxPkXaGh2zD6LGNNFE80W3onsAhRcMAMrSoyWL9xD7Ert0men7vR8LUZg==" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.19.1/css/mdb.min.css" integrity="sha512-RO38pBRxYH3SoOprtPTD86JFOclM51/XTIdEPh5j8sj4tp8jmQIx26twG52UaLi//hQldfrh7e51WzP9wuP32Q==" crossorigin="anonymous" />

<!-- Fonts & Icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css"  integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog==" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.9.0/css/academicons.min.css" integrity="sha512-W4yqoT1+8NLkinBLBZko+dFB2ZbHsYLDdr50VElllRcNt2Q4/GSs6u71UHKxB7S6JEMCp5Ve4xjh3eGQl/HRvg==" crossorigin="anonymous">
<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons">

<!-- Code Syntax Highlighting -->
<link rel="stylesheet" href="https://gitcdn.link/repo/jwarby/jekyll-pygments-themes/master/github.css" />

<!-- Styles -->

<!-- 
<link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22></text></svg>">
 -->

<link rel="stylesheet" href="/assets/css/main.css">
<link rel="canonical" href="https://tgalizzi.github.io/projects/autoracecar/">


<!-- Dark Mode -->
<script src="/assets/js/theme.js"></script>
<script src="/assets/js/dark_mode.js"></script>


  </head>

  <body class="fixed-top-nav sticky-bottom-footer">

    <!-- Header -->

    <header>

    <!-- Nav Bar -->
    <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top">
    <div class="container">
      <!-- <a class="navbar-brand title font-weight-lighter" href="https://tgalizzi.github.io/"><span class="font-weight-bold">Théo</span>   Galizzi</a>
      <!-- Navbar Toggle -->
      <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar top-bar"></span>
        <span class="icon-bar middle-bar"></span>
        <span class="icon-bar bottom-bar"></span>
      </button>
      <div class="collapse navbar-collapse text-right" id="navbarNav">
        <ul class="navbar-nav ml-auto flex-nowrap">
          <!-- About -->
          <li class="nav-item ">
            <a class="nav-link" href="/">
              <i class="fas fa-user fa-sm"></i>
            <b>A propos de moi</b>
              <!--  -->
            </a>
          </li>
          
          <!-- Blog -->
          <li class="nav-item ">
            <a class="nav-link" href="/stages/">
              <i class="fas fa-briefcase"></i>
              <b>Stages</b>
              
            </a>
          </li>
          
          <!-- Other pages -->
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          <li class="nav-item ">
              <a class="nav-link" href="/formation/">
                
                <i class="fas fa-graduation-cap fa-sm"></i>
                
                
                <b>Formation</b>
                
              </a>
          </li>
          
          
          
          
          
          
          
          <li class="nav-item ">
              <a class="nav-link" href="/projects/">
                
                
                <i class="fas fa-lightbulb fa-sm"></i>
                
                <b>Projets</b>
                
              </a>
          </li>
          
          
          
          
          
          
          
          
            <div class="toggle-container">
              <a id="light-toggle">
                  <i class="fas fa-moon"></i>
                  <i class="fas fa-sun"></i>
              </a>
            </div>
          
        </ul>
      </div>
    </div>
  </nav>

</header>


    <!-- Content -->

    <div class="container mt-5">
      





<div class="post">

  <header class="post-header">
    <h1 class="post-title">Autonomous Race Car</h1>
    <!-- <p class="post-meta">2022-02-07 09:51:49 +0000</p> -->
    <p class="post-tags">
      <!-- <a href="/blog/2022"> <i class="fas fa-calendar fa-sm"></i> 2022 </a> -->
      <!--  -->

      
      <!-- &nbsp; &middot; &nbsp; -->
        
          <i class="fas fa-tag fa-sm"></i> Robotique  
          
          <i class="fas fa-tag fa-sm"></i> ComputerVision  
          
      

    </p>
  </header>

  <article class="post-content">
    <hr>
<p>Ce projet de recherche a été réalisé pour le cours <strong>special project</strong> lors de mon cursus à Georgia Tech, avec le laboratoire de robotique <a href="https://dream.georgiatech-metz.fr" target="_blank" rel="noopener noreferrer">The DREAM lab</a> de Georgia Tech Lorraine. 
J’ai travaillé en colaboration avec <strong>Victor Galizzi</strong>, <strong>Martin Puig</strong> et <strong>Jackson Crandell</strong>.</p>

<hr>

<h2 id="notre-objectif">Notre objectif</h2>

<p>Ce projet avait pour but de développer une voiture RC autonome sans utiliser l’apprentissage profond. Au lieu de cela, des moyens plus traditionnels ont été utilisés, tels que la vision par ordinateur et les algorithmes de contrôle. 
Notre objectif était de permettre à la voiture de réaliser des tours autour du lac faisant face à Georgia Tech Lorraine.</p>

<div class="row">
    <div class="col-sm mt-3 mt-md-0">
        

<figure>

  <picture>
    
      <source media="(max-width: 480px)" srcset="/assets/img/rc/gtl-480.webp"></source>
    
      <source media="(max-width: 800px)" srcset="/assets/img/rc/gtl-800.webp"></source>
    
      <source media="(max-width: 1400px)" srcset="/assets/img/rc/gtl-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img class="img-fluid rounded z-depth-1" src="/assets/img/rc/gtl.jpeg" title="" data-zoomable="">

  </picture>

  

</figure>

    </div>
</div>
<div class="caption">
    Georgia Tech Lorraine
</div>

<h2 id="la-detection-de-la-route">La detection de la route</h2>

<p>Pour pouvoir contrôler la voiture, la première étape est une tâche de <strong>computer vision</strong>. La voiture, équipé d’une caméra, film en continu son envirronement. L’objectif est d’utiliser ces images afin d’extraire la route et utiliser ces données pour le contrôle de la voiture.</p>

<p>Afin d’accomplir cette tâche, nous avons testé de nombreux algorithmes pour voir ce qui fonctionnerait le mieux. Bien que toutes les méthodes ne se soient pas avérées viables, nous avons trouvé que les étapes suivantes étaient les plus efficaces pour la détection de la route :</p>
<ul>
  <li>Cartographie en perspective inverse (birds eye view) à partir des paramètres de la caméra.</li>
  <li>Segmentation des couleurs</li>
  <li>Détection des contours de Canny</li>
  <li>Transformée de Hough</li>
  <li>Filtre de Kalman</li>
</ul>

<p><br><br></p>

<h3 id="cartographie-en-perspective-inverse">Cartographie en perspective inverse</h3>

<div class="row justify-content-sm-center">
    <div class="col-sm-4 mt-3 mt-md-0">
        

<figure>

  <picture>
    
      <source media="(max-width: 480px)" srcset="/assets/img/rc/birds-480.webp"></source>
    
      <source media="(max-width: 800px)" srcset="/assets/img/rc/birds-800.webp"></source>
    
      <source media="(max-width: 1400px)" srcset="/assets/img/rc/birds-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img class="img-fluid rounded z-depth-1" src="/assets/img/rc/birds.png" title="" data-zoomable="">

  </picture>

  

</figure>

    </div>
    <div class="col-sm-8 mt-3 mt-md-0">
        <p> La méthode "Birds eye view" a pour but de projecter l'image de la caméra sur le plan du sol. De cette façon, les lignes de la route seront parallèle. Cette méthode a pour but de faciliter les traitements suivant.  </p>
    </div>
</div>

<div class="row mt-3">
    <div class="col-sm mt-3 mt-md-0">
        

<figure>

  <picture>
    
      <source media="(max-width: 480px)" srcset="/assets/img/rc/birds2-480.webp"></source>
    
      <source media="(max-width: 800px)" srcset="/assets/img/rc/birds2-800.webp"></source>
    
      <source media="(max-width: 1400px)" srcset="/assets/img/rc/birds2-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img class="img-fluid rounded z-depth-1" src="/assets/img/rc/birds2.png" title="" data-zoomable="">

  </picture>

  

</figure>

    </div>
    <div class="col-sm mt-3 mt-md-0">
        

<figure>

  <picture>
    
      <source media="(max-width: 480px)" srcset="/assets/img/rc/birds3-480.webp"></source>
    
      <source media="(max-width: 800px)" srcset="/assets/img/rc/birds3-800.webp"></source>
    
      <source media="(max-width: 1400px)" srcset="/assets/img/rc/birds3-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img class="img-fluid rounded z-depth-1" src="/assets/img/rc/birds3.png" title="" data-zoomable="">

  </picture>

  

</figure>

    </div>
</div>

<div class="caption">
    La méthode de projection sur un exemple réelle de la route.
</div>

<p><br><br></p>

<h3 id="segmentation-des-couleurs">Segmentation des couleurs</h3>

<p>Une fois la projection obtenue, nous voulons pouvoir detecter ce qui constitu la route, et ce qui n’est pas la route (par exemple, l’herbe sur le bord). La segmentation de couleur permet par clustering, de classer les pixels qui sont la route et ceux qui ne le sont pas, par continuité d’une zone en face de la voiture (le rectangle bleu de la vidéo).</p>

<div class="row">
    <div class="col-sm mt-3 mt-md-0">
        <video controls="" width="800">
            <source src="/assets/img/rc/seg.mp4" type="video/mp4"></source>
        </video>
    </div>
</div>
<div class="caption">
    La segmentation sur l'image de la route après projection.
</div>

<p><br><br></p>

<h3 id="détection-des-contours-de-canny">Détection des contours de Canny</h3>

<div class="row justify-content-sm-center">
    <div class="col-sm-4 mt-3 mt-md-0">
        

<figure>

  <picture>
    
      <source media="(max-width: 480px)" srcset="/assets/img/rc/canny-480.webp"></source>
    
      <source media="(max-width: 800px)" srcset="/assets/img/rc/canny-800.webp"></source>
    
      <source media="(max-width: 1400px)" srcset="/assets/img/rc/canny-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img class="img-fluid rounded z-depth-1" src="/assets/img/rc/canny.png" title="" data-zoomable="">

  </picture>

  

</figure>

    </div>
    <div class="col-sm-8 mt-3 mt-md-0">
        <p> La détection des contours de Canny est un algorithme de détection des contours en plusieurs étapes. En le réglant correctement, nous avons pu l'utiliser afin d'extraire les bords de la route.  </p>
    </div>
</div>

<p><br><br></p>

<h3 id="transformée-de-hough">Transformée de Hough</h3>

<div class="row justify-content-sm-center">
    <div class="col-sm-4 mt-3 mt-md-0">
        

<figure>

  <picture>
    
      <source media="(max-width: 480px)" srcset="/assets/img/rc/hough-480.webp"></source>
    
      <source media="(max-width: 800px)" srcset="/assets/img/rc/hough-800.webp"></source>
    
      <source media="(max-width: 1400px)" srcset="/assets/img/rc/hough-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img class="img-fluid rounded z-depth-1" src="/assets/img/rc/hough.png" title="" data-zoomable="">

  </picture>

  

</figure>

    </div>
    <div class="col-sm-8 mt-3 mt-md-0">
        <p> La transformée de Hough peut être utilisée pour détecter n'importe quelle forme. Dans notre situation, nous l'avons utilisée pour détecter les bords de la route. A chaque image de la vidéo filmée par la camera, cet algorithme nous renvoie un nombre important de "lignes" candidates comme bords de route. Les lignes blanches sont la sortie de l'algorithme de Hough. Seules les lignes avec un petit angle ont été sélectionnées comme une observation correcte.</p>
    </div>
</div>

<p><br><br></p>

<h3 id="filtre-de-kalman">Filtre de Kalman</h3>

<div class="row justify-content-sm-center">
    <div class="col-sm-4 mt-3 mt-md-0">
        

<figure>

  <picture>
    
      <source media="(max-width: 480px)" srcset="/assets/img/rc/kalman-480.webp"></source>
    
      <source media="(max-width: 800px)" srcset="/assets/img/rc/kalman-800.webp"></source>
    
      <source media="(max-width: 1400px)" srcset="/assets/img/rc/kalman-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img class="img-fluid rounded z-depth-1" src="/assets/img/rc/kalman.png" title="" data-zoomable="">

  </picture>

  

</figure>

    </div>
    <div class="col-sm-8 mt-3 mt-md-0">
        <p> Le filtre de Kalman est une méthode de filtrage qui permet, à partir d'observations bruitées (ici, la sortie de l'algorithme de Hough), d'estimer l'état d'un système dynamique. Ici, nos mesures nous permettent grâce au filtre de Kalman d'estimer les véritables lignes de la route de manière séquentielle, a chaque image de la caméra.</p>
    </div>
</div>

<p><br><br></p>

<h3 id="le-résultat">Le résultat</h3>

<p>Après toutes ces étapes, nous avons une mesure des bords de la route. En reprojetant nos bords de route dans le plan de la caméra, nous avons une segmentation complète. Voici un exemple de ce que donne notre méthode en situation réelle.</p>

<div class="row">
    <div class="col-sm mt-3 mt-md-0">
        <video controls="" width="800">
            <source src="/assets/img/rc/kalman.mp4" type="video/mp4"></source>
        </video>
    </div>
</div>
<div class="caption">
    Extraction de la route.
</div>

<h2 id="le-contrôle">Le contrôle</h2>

<p>Nous avons commencer par un contrôle très simple, de suivi de ligne.
Ainsi, la voiture se rapproche du centre de la route tout en suivant son axe.</p>

<p>Malheuresement, ce projet a été stoppé net par la crise sanitaire. Le premier confinenement nous a empêché de mener ce projet jusqu’au bout. Notre méthode, testée sur le simulateur airsim, semblait très prometteuse.</p>

<div class="row">
    <div class="col-sm mt-3 mt-md-0">
        <video controls="" width="800">
            <source src="/assets/img/rc/simu.mp4" type="video/mp4"></source>
        </video>
    </div>
</div>
<div class="caption">
    Aperçu de notre contrôle autonome sur le simulateur airsim.
</div>

<p><br><br></p>

  </article>

</div>

    </div>

    <!-- Footer -->

    <!-- 
<footer class="sticky-bottom mt-5">
  <div class="container">
    &copy; Copyright 2022 Théo  Galizzi.
    
    
    
  </div>
</footer>

 -->

  </body>

  <!-- jQuery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>

  <!-- Bootsrap & MDB scripts -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.4.4/umd/popper.min.js" integrity="sha512-eUQ9hGdLjBjY3F41CScH3UX+4JDSI9zXeroz7hJ+RteoCaY+GP/LDoM8AO+Pt+DRFw3nXqsjh9Zsts8hnYv8/A==" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha512-M5KW3ztuIICmVIhjSqXe01oV2bpe248gOxqmlcYrEzAvws7Pw3z6BK0iGbrwvdrUQUhi3eXgtxp5I8PDo9YfjQ==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.19.1/js/mdb.min.js" integrity="sha512-Mug9KHKmroQFMLm93zGrjhibM2z2Obg9l6qFG2qKjXEXkMp/VDkI4uju9m4QKPjWSwQ6O2qzZEnJDEeCw0Blcw==" crossorigin="anonymous"></script>

  
<!-- Mansory & imagesLoaded -->
<script defer src="https://unpkg.com/masonry-layout@4/dist/masonry.pkgd.min.js"></script>
<script defer src="https://unpkg.com/imagesloaded@4/imagesloaded.pkgd.min.js"></script>
<script defer src="/assets/js/mansory.js" type="text/javascript"></script>


  


<!-- Medium Zoom JS -->
<script src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js" integrity="sha256-EdPgYcPk/IIrw7FYeuJQexva49pVRZNmt3LculEr7zM=" crossorigin="anonymous"></script>
<script src="/assets/js/zoom.js"></script>


<!-- Load Common JS -->
<script src="/assets/js/common.js"></script>

  
<!-- MathJax -->
<script type="text/javascript">
  window.MathJax = {
    tex: {
      tags: 'ams'
    }
  };
</script>
<script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script>
<script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>


  





</html>
